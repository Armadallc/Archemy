# Gitleaks Configuration
# This file configures Gitleaks secret scanning rules for HALCYON

title = "HALCYON Gitleaks Configuration"

# Allowlist - patterns or paths to ignore
# Add paths, commits, or regex patterns here to exclude from scanning
[allowlist]
description = "Allowlist for known false positives"

# Allowlist specific paths if needed
# Note: Gitleaks v7 uses regex patterns, not glob patterns
# Use .* for "any characters" and \. for literal dots
paths = [
  '''.*/test/.*''',           # Any path containing /test/
  '''.*\.md$''',              # Any .md file
  '''.*\.woff2$''',           # Font files (binary, can trigger false positives)
  '''.*\.woff$''',            # Font files
  '''.*\.ttf$''',             # Font files
  '''.*\.otf$''',             # Font files
  '''client/public/fonts/.*''', # Font directory
  '''.*\.env\.local$''',      # Local env files (feature flags only, no secrets)
  '''\.env\.local$''',        # Root .env.local
  '''client/\.env\.local$''', # Client .env.local
]

# Allowlist specific commits (if needed)
# Commit acc61525 contains .env.local files with feature flags only (no secrets)
commits = [
  "acc61525",  # Commit that added .env.local files (feature flags only)
]

# Allowlist specific regex patterns (if needed)
# regexes = [
#   '''example\.com''',
# ]

# Allowlist specific stopwords (if needed)
# stopwords = [
#   "example",
# ]

# Note: Gitleaks will use its default rules when no custom rules are specified.
# To add custom rules, uncomment and modify the example below:
#
# [[rules]]
# id = "custom-api-key"
# description = "Custom API key pattern"
# regex = '''api[_-]?key["\s:=]+['"]?([a-zA-Z0-9]{32,})['"]?'''

