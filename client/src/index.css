/* ============================================================
   HALCYON Design System - CSS Variables
   ============================================================
   
   PALETTE ("Fire" Colors):
   - Dark:       #26282b (Charcoal)
   - Light Mint: #e8fffe (Ice)
   - Light Lime: #f1fec9 (Lime)
   - Accent:     #ff555d (Coral)
   - Neutral:    #eaeaea (Silver)
   - Light:      #f4f4f4 (Cloud)
   
   FONTS:
   - Headings: Nohemi
   - Body: Space Grotesk
   
   ============================================================ */

/* ============================================================
   FONT FACES
   ============================================================ */

/* Nohemi - Headlines & Bold Text */
@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-ExtraBold.woff2') format('woff2');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Nohemi';
  src: url('/fonts/Nohemi-Black.woff2') format('woff2');
  font-weight: 900;
  font-style: normal;
  font-display: swap;
}

/* Space Grotesk - Body & UI Text */
@font-face {
  font-family: 'Space Grotesk';
  src: url('/fonts/SpaceGrotesk-Light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Space Grotesk';
  src: url('/fonts/SpaceGrotesk-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Space Grotesk';
  src: url('/fonts/SpaceGrotesk-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Space Grotesk';
  src: url('/fonts/SpaceGrotesk-SemiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Space Grotesk';
  src: url('/fonts/SpaceGrotesk-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* ============================================================
   TAILWIND BASE
   ============================================================ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   CSS CUSTOM PROPERTIES - LIGHT MODE (Default)
   ============================================================ */

:root {
  /* ----------------------------------------------------------
     COLOR PALETTE - Raw Values
     ---------------------------------------------------------- */
  --color-charcoal: #26282b;
  --color-ice: #e8fffe;
  --color-lime: #f1fec9;
  --color-coral: #ff555d;
  --color-silver: #eaeaea;
  --color-cloud: #f4f4f4;
  
  /* Extended palette */
  --color-charcoal-light: #363a3e;
  --color-charcoal-lighter: #464a4f;
  --color-charcoal-muted: #5c6166;
  --color-lime-dark: #d4e5a8;
  --color-lime-light: #f7ffdf;
  --color-coral-dark: #e04850;
  --color-coral-light: #ff7a80;

  /* ----------------------------------------------------------
     SEMANTIC COLORS - Light Mode
     ---------------------------------------------------------- */
  
  /* Backgrounds */
  --background: var(--color-cloud);
  --background-secondary: var(--color-silver);
  --background-tertiary: var(--color-ice);
  
  /* Surfaces (Cards, Panels, Modals) */
  --surface: #ffffff;
  --surface-elevated: var(--color-lime);
  --surface-muted: var(--color-silver);
  
  /* Text */
  --foreground: var(--color-charcoal);
  --foreground-secondary: var(--color-charcoal-muted);
  --foreground-muted: #8a8f94; /* Intermediate between charcoal-muted and silver - keep for readability */
  --foreground-inverse: #ffffff;
  
  /* Primary Action Color */
  --primary: var(--color-coral);
  --primary-hover: var(--color-coral-dark);
  --primary-foreground: #ffffff;
  
  /* Accent (Secondary Actions, Highlights) */
  --accent: var(--color-lime);
  --accent-hover: var(--color-lime-dark);
  --accent-foreground: var(--color-charcoal);
  
  /* Borders */
  --border: #d4d7da; /* Light gray border - derived from silver/charcoal mix, keep for subtlety */
  --border-muted: var(--color-silver);
  --border-strong: var(--color-charcoal-muted);
  
  /* Input Fields */
  --input: #ffffff;
  --input-border: var(--border);
  --input-focus: var(--color-coral);
  
  /* Ring (Focus States) */
  --ring: var(--color-coral);
  --ring-offset: var(--background);
  
  /* Destructive/Error */
  --destructive: var(--color-coral-dark); /* Use coral-dark for destructive actions */
  --destructive-hover: #b91c1c; /* Slightly darker for hover - keep for accessibility */
  --destructive-foreground: #ffffff;
  
  /* Muted (Disabled, Subtle) */
  --muted: var(--color-silver);
  --muted-foreground: var(--color-charcoal-muted); /* Use charcoal-muted for consistency */
  
  /* Card (Shadcn compatibility) */
  --card: #ffffff;
  --card-foreground: var(--color-charcoal);
  
  /* Popover (Shadcn compatibility) */
  --popover: #ffffff;
  --popover-foreground: var(--color-charcoal);

  /* ----------------------------------------------------------
     STATUS COLORS - Derived from Fire Palette
     ---------------------------------------------------------- */
  /* Success: Derived from Lime (#f1fec9) - Red: 3B, Green: FE, Blue: C9 */
  --status-success: #3bfec9;
  --status-success-bg: rgba(59, 254, 201, 0.15);
  --status-success-border: rgba(59, 254, 201, 0.3);
  
  /* Warning: Derived from Lime (#f1fec9) - Red: F1, Green: FE, Blue: 60 */
  --status-warning: #f1fe60;
  --status-warning-bg: rgba(241, 254, 96, 0.15);
  --status-warning-border: rgba(241, 254, 96, 0.3);
  
  /* Error: Derived from Coral (#ff555d) - using darker shade */
  --status-error: var(--color-coral-dark);
  --status-error-bg: rgba(224, 72, 80, 0.15);
  --status-error-border: rgba(224, 72, 80, 0.3);
  
  /* Info: Derived from Ice (#e8fffe) - Red: 7A, Green: FF, Blue: FE */
  --status-info: #7afffe;
  --status-info-bg: rgba(122, 255, 254, 0.15);
  --status-info-border: rgba(122, 255, 254, 0.3);
  
  /* Trip Status Colors - Derived from Fire Palette */
  /* Scheduled: Derived from Ice (#e8fffe) - Red: 7A, Green: FF, Blue: FE */
  --scheduled: #7afffe;
  --scheduled-bg: rgba(122, 255, 254, 0.15);
  
  /* In Progress: Derived from Lime (#f1fec9) - Red: F1, Green: FE, Blue: 60 */
  --in-progress: #f1fe60;
  --in-progress-bg: rgba(241, 254, 96, 0.15);
  
  /* Completed: Derived from Lime (#f1fec9) - Red: 3B, Green: FE, Blue: C9 */
  --completed: #3bfec9;
  --completed-bg: rgba(59, 254, 201, 0.15);
  
  /* Cancelled: Derived from Coral (#ff555d) - using darker shade */
  --cancelled: var(--color-coral-dark);
  --cancelled-bg: rgba(224, 72, 80, 0.15);
  
  /* Confirmed: Derived from Ice (#e8fffe) - Red: C2, Green: B4, Blue: FE */
  --confirmed: #c2b4fe;
  --confirmed-bg: rgba(194, 180, 254, 0.15);

  /* ----------------------------------------------------------
     DRIVER ASSIGNMENT COLORS
     ---------------------------------------------------------- */
  --driver-color-1: #3b82f6;
  --driver-color-2: #22c55e;
  --driver-color-3: #f59e0b;
  --driver-color-4: #8b5cf6;
  --driver-color-5: #ec4899;
  --driver-color-6: #06b6d4;

  /* ----------------------------------------------------------
     SIDEBAR
     ---------------------------------------------------------- */
  --sidebar: var(--color-charcoal);
  --sidebar-foreground: var(--color-cloud);
  --sidebar-foreground-muted: #9ca3af;
  --sidebar-primary: var(--color-coral);
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: var(--color-lime);
  --sidebar-accent-foreground: var(--color-charcoal);
  --sidebar-border: var(--color-charcoal-light);
  --sidebar-ring: var(--color-coral);

  /* ----------------------------------------------------------
     TYPOGRAPHY
     ---------------------------------------------------------- */
  --font-heading: 'Nohemi', system-ui, -apple-system, sans-serif;
  --font-body: 'Space Grotesk', system-ui, -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  
  /* Font Sizes */
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-base: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;
  --text-3xl: 1.875rem;
  --text-4xl: 2.25rem;
  
  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  
  /* Letter Spacing */
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;

  /* ----------------------------------------------------------
     SPACING & LAYOUT
     ---------------------------------------------------------- */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  
  /* Border Radius */
  --radius: 0.5rem;
  --radius-sm: calc(var(--radius) - 2px);
  --radius-md: var(--radius);
  --radius-lg: calc(var(--radius) + 2px);
  --radius-xl: calc(var(--radius) + 6px);
  --radius-full: 9999px;

  /* ----------------------------------------------------------
     SHADOWS - Neumorphic Style
     ---------------------------------------------------------- */
  
  /* Standard shadows */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
  /* Neumorphic shadows (light mode) */
  --neu-shadow-light: #ffffff;
  --neu-shadow-dark: rgba(174, 174, 192, 0.4);
  
  --shadow-neu-flat: 
    5px 5px 10px var(--neu-shadow-dark),
    -5px -5px 10px var(--neu-shadow-light);
  
  --shadow-neu-raised: 
    8px 8px 16px var(--neu-shadow-dark),
    -8px -8px 16px var(--neu-shadow-light);
  
  --shadow-neu-pressed: 
    inset 4px 4px 8px var(--neu-shadow-dark),
    inset -4px -4px 8px var(--neu-shadow-light);
  
  --shadow-neu-subtle: 
    3px 3px 6px var(--neu-shadow-dark),
    -3px -3px 6px var(--neu-shadow-light);

  /* Glass effect */
  --glass-blur: blur(12px);
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.2);

  /* ----------------------------------------------------------
     TRANSITIONS
     ---------------------------------------------------------- */
  --transition-fast: 150ms ease;
  --transition-normal: 200ms ease;
  --transition-slow: 300ms ease;

  /* ----------------------------------------------------------
     Z-INDEX SCALE
     ---------------------------------------------------------- */
  --z-dropdown: 50;
  --z-sticky: 100;
  --z-modal: 200;
  --z-popover: 300;
  --z-tooltip: 400;
  --z-toast: 500;
}

/* ============================================================
   CSS CUSTOM PROPERTIES - DARK MODE
   ============================================================ */

.dark {
  /* Backgrounds */
  --background: var(--color-charcoal);
  --background-secondary: var(--color-charcoal-light);
  --background-tertiary: var(--color-charcoal-lighter);
  
  /* Surfaces */
  --surface: var(--color-charcoal-light);
  --surface-elevated: var(--color-charcoal-lighter);
  --surface-muted: var(--color-charcoal-light);
  
  /* Text */
  --foreground: var(--color-cloud);
  --foreground-secondary: #b8bcc0; /* Lighter gray for dark mode - good contrast, keep */
  --foreground-muted: #8a8f94; /* Same as light mode for consistency */
  --foreground-inverse: var(--color-charcoal);
  
  /* Primary */
  --primary: var(--color-coral);
  --primary-hover: var(--color-coral-light);
  --primary-foreground: #ffffff;
  
  /* Accent */
  --accent: var(--color-lime);
  --accent-hover: var(--color-lime-light);
  --accent-foreground: var(--color-charcoal);
  
  /* Borders */
  --border: var(--color-charcoal-lighter);
  --border-muted: var(--color-charcoal-light);
  --border-strong: var(--color-charcoal-muted);
  
  /* Input Fields */
  --input: var(--color-charcoal-light);
  --input-border: var(--color-charcoal-lighter);
  --input-focus: var(--color-coral);
  
  /* Ring */
  --ring: var(--color-coral);
  --ring-offset: var(--background);
  
  /* Destructive */
  --destructive: #f87171;
  --destructive-hover: #ef4444;
  --destructive-foreground: #ffffff;
  
  /* Muted */
  --muted: var(--color-charcoal-light);
  --muted-foreground: #9ca3af; /* Lighter muted text for dark mode - keep for readability */
  
  /* Card */
  --card: var(--color-charcoal-light);
  --card-foreground: var(--color-cloud);
  
  /* Popover */
  --popover: var(--color-charcoal-light);
  --popover-foreground: var(--color-cloud);

  /* Status Colors - Dark Mode (same as light mode, derived from Fire palette) */
  --status-success: #3bfec9;
  --status-success-bg: rgba(59, 254, 201, 0.15);
  --status-success-border: rgba(59, 254, 201, 0.3);
  
  --status-warning: #f1fe60;
  --status-warning-bg: rgba(241, 254, 96, 0.15);
  --status-warning-border: rgba(241, 254, 96, 0.3);
  
  --status-error: var(--color-coral-dark);
  --status-error-bg: rgba(224, 72, 80, 0.15);
  --status-error-border: rgba(224, 72, 80, 0.3);
  
  --status-info: #7afffe;
  --status-info-bg: rgba(122, 255, 254, 0.15);
  --status-info-border: rgba(122, 255, 254, 0.3);
  
  /* Trip Status Colors - Dark Mode (same as light mode, derived from Fire palette) */
  --scheduled: #7afffe;
  --scheduled-bg: rgba(122, 255, 254, 0.15);
  
  --in-progress: #f1fe60;
  --in-progress-bg: rgba(241, 254, 96, 0.15);
  
  --completed: #3bfec9;
  --completed-bg: rgba(59, 254, 201, 0.15);
  
  --cancelled: var(--color-coral-dark);
  --cancelled-bg: rgba(224, 72, 80, 0.15);
  
  --confirmed: #c2b4fe;
  --confirmed-bg: rgba(194, 180, 254, 0.15);

  /* Sidebar */
  --sidebar: var(--color-charcoal); /* Using charcoal for sidebar - #26282b */
  --sidebar-foreground: var(--color-cloud);
  --sidebar-foreground-muted: var(--color-charcoal-muted); /* Use charcoal-muted for consistency */
  --sidebar-border: var(--color-charcoal-light); /* Slightly lighter than sidebar - keep for subtle border */

  /* Neumorphic shadows (dark mode) */
  --neu-shadow-light: rgba(255, 255, 255, 0.05);
  --neu-shadow-dark: rgba(0, 0, 0, 0.5);
  
  --shadow-neu-flat: 
    5px 5px 10px var(--neu-shadow-dark),
    -5px -5px 10px var(--neu-shadow-light);
  
  --shadow-neu-raised: 
    8px 8px 16px var(--neu-shadow-dark),
    -8px -8px 16px var(--neu-shadow-light);
  
  --shadow-neu-pressed: 
    inset 4px 4px 8px var(--neu-shadow-dark),
    inset -4px -4px 8px var(--neu-shadow-light);

  /* Glass effect - dark mode */
  --glass-bg: rgba(38, 40, 43, 0.8);
  --glass-border: rgba(255, 255, 255, 0.1);
}

/* ============================================================
   BASE STYLES
   ============================================================ */

@layer base {
  * {
    border-color: var(--border);
  }
  
  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-body);
    line-height: var(--leading-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ============================================================
   UTILITY CLASSES - Reusable Component Patterns
   ============================================================ */

@layer components {
  /* Cards */
  .card-default {
    @apply bg-card rounded-lg shadow-sm;
    border: 1px solid var(--border);
  }

  .card-elevated {
    background-color: var(--surface-elevated);
    @apply rounded-lg shadow-md;
    border: 1px solid var(--border-muted);
  }

  .card-glass {
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    @apply rounded-lg;
  }

  .card-neu {
    background-color: var(--background);
    @apply rounded-lg;
    box-shadow: var(--shadow-neu-raised);
  }

  .card-neu-flat {
    background-color: var(--background);
    @apply rounded-lg;
    box-shadow: var(--shadow-neu-flat);
  }

  .card-neu-pressed {
    background-color: var(--background);
    @apply rounded-lg;
    box-shadow: var(--shadow-neu-pressed);
  }

  /* Typography Presets */
  .text-page-title {
    font-family: var(--font-heading);
    @apply text-3xl font-bold leading-tight tracking-tight;
    color: var(--foreground);
  }

  .text-section-header {
    font-family: var(--font-heading);
    @apply text-xl font-semibold leading-tight;
    color: var(--foreground);
  }

  .text-card-title {
    font-family: var(--font-heading);
    @apply text-lg font-semibold;
    color: var(--foreground);
  }

  .text-body {
    font-family: var(--font-body);
    @apply text-base leading-normal;
    color: var(--foreground);
  }

  .text-body-sm {
    font-family: var(--font-body);
    @apply text-sm leading-normal;
    color: var(--foreground-secondary);
  }

  .text-caption {
    font-family: var(--font-body);
    @apply text-xs leading-normal;
    color: var(--foreground-muted);
  }

  .text-label {
    font-family: var(--font-body);
    @apply text-sm font-medium;
    color: var(--foreground);
  }

  /* Status Badges */
  .badge-success {
    background-color: var(--status-success-bg);
    color: var(--status-success);
    border: 1px solid var(--status-success-border);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-warning {
    background-color: var(--status-warning-bg);
    color: var(--status-warning);
    border: 1px solid var(--status-warning-border);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-error {
    background-color: var(--status-error-bg);
    color: var(--status-error);
    border: 1px solid var(--status-error-border);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-info {
    background-color: var(--status-info-bg);
    color: var(--status-info);
    border: 1px solid var(--status-info-border);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  /* Trip Status Badges */
  .badge-scheduled {
    background-color: var(--scheduled-bg);
    color: var(--scheduled);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-in-progress {
    background-color: var(--in-progress-bg);
    color: var(--in-progress);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-completed {
    background-color: var(--completed-bg);
    color: var(--completed);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-cancelled {
    background-color: var(--cancelled-bg);
    color: var(--cancelled);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .badge-confirmed {
    background-color: var(--confirmed-bg);
    color: var(--confirmed);
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  /* Buttons */
  .btn-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
    @apply rounded-md px-4 py-2 font-medium;
    transition: background-color var(--transition-fast);
  }

  .btn-primary:hover {
    background-color: var(--primary-hover);
  }

  .btn-accent {
    background-color: var(--accent);
    color: var(--accent-foreground);
    @apply rounded-md px-4 py-2 font-medium;
    transition: background-color var(--transition-fast);
  }

  .btn-accent:hover {
    background-color: var(--accent-hover);
  }

  .btn-neu {
    background-color: var(--background);
    color: var(--foreground);
    @apply rounded-md px-4 py-2 font-medium;
    box-shadow: var(--shadow-neu-flat);
    transition: box-shadow var(--transition-fast);
  }

  .btn-neu:hover {
    box-shadow: var(--shadow-neu-raised);
  }

  .btn-neu:active {
    box-shadow: var(--shadow-neu-pressed);
  }

  /* Focus States */
  .focus-ring {
    @apply outline-none;
    box-shadow: 0 0 0 2px var(--ring-offset), 0 0 0 4px var(--ring);
  }
}

/* ============================================================
   SCROLLBAR STYLING
   ============================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--background-secondary);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
  background: var(--border-strong);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground-muted);
}

/* ============================================================
   SELECTION
   ============================================================ */

::selection {
  background-color: var(--primary);
  color: var(--primary-foreground);
}